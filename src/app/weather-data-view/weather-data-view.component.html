<div class="weather-data-view">
  <md-card [attr.class]="isLate() ?'late':''">
    <div class="title">
      <span class="title-text">{{weatherData.location}} - {{weatherData.localtime}}</span>

      <button class="icon-button" (click)="toggle()" [attr.title]="expanded?'weniger anzeigen':'mehr anzeigen'">
        <md-icon *ngIf="!expanded">keyboard_arrow_down</md-icon>
        <md-icon *ngIf="expanded">keyboard_arrow_up</md-icon>
      </button>

      <button title="Diagramme" class="icon-button" (click)="gotoDiagram()">
        <md-icon>panorama</md-icon>
      </button>

      <button title="Wetter Vorhersage" class="icon-button" *ngIf="weatherData.locationObj.weatherForecast" (click)="showForecast()">
        <md-icon>filter_drama</md-icon>
      </button>
    </div>
    <div class="value">Temperatur: {{weatherData.temperature | num}} °C<span *ngIf="weatherData.inside_temperature"> / {{weatherData.inside_temperature | num}} °C</span></div>
    <div class="value">Luftfeuchtigkeit: {{weatherData.humidity | num}} %<span *ngIf="weatherData.inside_humidity"> / {{weatherData.inside_humidity | num}} %</span></div>
    <div class="value" *ngIf="weatherData.rain_today">
      Regen: {{weatherData.rain_today | num}} l
      <span *ngIf="weatherData.rain"> / {{weatherData.rain | num}} l</span>
    </div>
    <div class="value" *ngIf="weatherData.wind">
      Wind: {{weatherData.wind | num }} km/h
    </div>
    <div class="value" *ngIf="weatherData.watt">
      Solarleistung: {{weatherData.watt | num }} W
    </div>
    <app-weather-stats *ngIf="expanded" [locationId]="weatherData.id"></app-weather-stats>
  </md-card>
</div>
